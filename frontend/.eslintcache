[{"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/index.js":"1","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/App.js":"2","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/pages/Home/Home.js":"3","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Base.js":"4","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Header/Header.js":"5","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Footer/Footer.js":"6","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/auth/index.js":"7","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/backend.js":"8","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/user/Signin.js":"9","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/user/helper/helper.js":"10","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/user/Signup.js":"11","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/auth/PrivateRoutes.js":"12","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/user/Profile/Profile.js":"13","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Left/Left.js":"14","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Right/Right.js":"15","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/books/AddBook/AddBook.js":"16","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/auth/AdminRoutes.js":"17","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/books/helper.js":"18","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/books/Success.js":"19","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/books/UpdateBook/UpdateBook.js":"20","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Card.js":"21","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/books/Books/Books.js":"22","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/user/Users/Users.js":"23","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/pages/Dashboard/Dashboard.js":"24"},{"size":412,"mtime":1608659131627,"results":"25","hashOfConfig":"26"},{"size":1418,"mtime":1608792742478,"results":"27","hashOfConfig":"26"},{"size":3698,"mtime":1608792435038,"results":"28","hashOfConfig":"26"},{"size":533,"mtime":1608721875493,"results":"29","hashOfConfig":"26"},{"size":1911,"mtime":1608794309614,"results":"30","hashOfConfig":"26"},{"size":0,"mtime":1608658764112,"results":"31","hashOfConfig":"26"},{"size":1498,"mtime":1608658488295,"results":"32","hashOfConfig":"26"},{"size":47,"mtime":1608658441868,"results":"33","hashOfConfig":"26"},{"size":3485,"mtime":1608794417690,"results":"34","hashOfConfig":"26"},{"size":3173,"mtime":1608789480410,"results":"35","hashOfConfig":"26"},{"size":3051,"mtime":1608660374905,"results":"36","hashOfConfig":"26"},{"size":571,"mtime":1608658561137,"results":"37","hashOfConfig":"26"},{"size":3465,"mtime":1608751659120,"results":"38","hashOfConfig":"26"},{"size":1564,"mtime":1608793908165,"results":"39","hashOfConfig":"26"},{"size":1629,"mtime":1608703509892,"results":"40","hashOfConfig":"26"},{"size":5357,"mtime":1608712376890,"results":"41","hashOfConfig":"26"},{"size":604,"mtime":1608709592143,"results":"42","hashOfConfig":"26"},{"size":2460,"mtime":1608792605474,"results":"43","hashOfConfig":"26"},{"size":485,"mtime":1608711884709,"results":"44","hashOfConfig":"26"},{"size":5776,"mtime":1608716487920,"results":"45","hashOfConfig":"26"},{"size":1446,"mtime":1608724028867,"results":"46","hashOfConfig":"26"},{"size":1197,"mtime":1608787633376,"results":"47","hashOfConfig":"26"},{"size":1897,"mtime":1608790319977,"results":"48","hashOfConfig":"26"},{"size":1787,"mtime":1608793778978,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"foas89",{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"52"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"52"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"52"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"52"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"52"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"52"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"52"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"52"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/index.js",[],["108","109"],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/App.js",["110"],"import React from 'react'\nimport './App.css'\nimport { BrowserRouter, Route, Link,Switch } from \"react-router-dom\";\n\nimport Home from './pages/Home/Home';\nimport Signin from './components/user/Signin';\nimport Signup from './components/user/Signup';\nimport PrivateRoute from './components/auth/PrivateRoutes';\nimport AdminRoute from './components/auth/AdminRoutes';\nimport Profile from './components/user/Profile/Profile';\nimport AddBook from './components/books/AddBook/AddBook';\nimport UpdateBook from './components/books/UpdateBook/UpdateBook';\nimport Books from './components/books/Books/Books';\nimport Users from './components/user/Users/Users';\nimport Dashboard from './pages/Dashboard/Dashboard';\n\n\nfunction App() {\n  return (\n    <BrowserRouter>\n    <Switch>\n      <Route path=\"/\" exact component={Home} />\n      <Route path=\"/signup\" exact component={Signup} />\n      <Route path=\"/signin\" exact component={Signin} />\n\n      <PrivateRoute path=\"/profile\" exact component={Profile} />\n\n      <AdminRoute path=\"/admin/dashboard\" exact component={Dashboard}/>\n      <AdminRoute path=\"/admin/books/add\" exact component={AddBook} />\n      <AdminRoute path=\"/admin/books/edit/:bookId\" exact component={UpdateBook} />\n      <AdminRoute path=\"/admin/books\" exact component={Books} /> \n      <AdminRoute path=\"/admin/users\" exact component={Users} />\n\n      </Switch>  \n     </BrowserRouter>\n  );\n}\n\nexport default App;\n","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/pages/Home/Home.js",["111","112","113","114"],"import React, {useState, useEffect} from 'react'\nimport { getBooks, updateBookLend } from '../../components/books/helper'\nimport Base from '../../shared/Base'\nimport './Home.css'\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { isAuthenticated } from '../../components/auth';\nimport { updateUser, updateUserLend } from '../../components/user/helper/helper';\n\n\nfunction Home() {\n\n    const [books, setBooks] = useState([])\n    const [search, setSearch] = useState(\"\")\n    const [lend, setLend] = useState(false)\n    const {user, token} = isAuthenticated()\n\n    const onLend = (id) => {\n        // event.preventDefault()\n        updateBookLend(token,  id, user._id, {lend: {\"_id\": user._id,\"name\": user.name}})\n        .then(res => {\n            console.log(res)\n        updateUserLend( {lend: id}, user._id)\n        .then(res => console.log(res))\n        .catch(err => console.log(err))\n        })\n        .then(res => setLend(!lend))\n        .catch(err => console.log(err))\n    }\n\n    useEffect(() => {\n       getBooks()\n       .then(res => setBooks(res))\n       .catch(err => console.log(err))\n    //    console.log(books);\n    }, [lend])\n\n    return (\n        <Base>\n            <div className=\"search__field\">\n                <input type=\"text\" placeholder=\"Search items...\" onChange={e => setSearch(e.target.value)} />\n               \n            </div>\n            <div className=\"home\">\n                {books.filter((val) => {\n                    if(search == \"\"){\n                        return val\n                    } else if (val.name.toLowerCase().includes(search.toLowerCase())){\n                        return val\n                    }\n                    else if (val.author.toLowerCase().includes(search.toLowerCase())){\n                        return val\n                    }\n                    else if (val.publisher.toLowerCase().includes(search.toLowerCase())){\n                        return val\n                    }\n                    else if (val.category.toLowerCase().includes(search.toLowerCase())){\n                        return val\n                    }\n                }).map((book,i) => {\n                    return(\n                        <div className=\"card1\">\n                            <div className=\"card__image\">\n                                <img src={book.imageUrl} alt=\"\" className=\"card__image__pic\"/>\n                            </div>\n                            <div className=\"card__details\">\n                                <p className=\"card__name\">{book.name}</p>\n                                <p className=\"card__author\">-{book.author}</p>\n                                <span className=\"card__category\">{book.category}</span>\n                                <p className=\"card__publishedBy\">Published By: {book.publisher}</p>\n                            \n                             </div>\n                             {isAuthenticated() && !book.lend ? (\n                                 <div className=\"card__lend\">\n                                    <p className=\"card__lendBy\">Available</p>\n                                    <a className=\"card__lendBy__icon\"  ><ShoppingCartIcon onClick={() => onLend(book._id)} /></a>\n                                </div>\n                             ): (book.lend && \n                                <div className=\"card__lend\">\n                                    <p className=\"card__lendBy\">Lended by: {book.lend.name}</p>\n                                </div>\n                             )}\n                            \n                        </div>  \n                    )\n                })}\n            </div>\n        </Base>\n    )\n}\n\nexport default Home;\n","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Base.js",["115"],"import React from 'react'\nimport Header from './Header/Header'\nimport Footer from './Footer/Footer'\nimport Left from './Left/Left'\nimport Right from './Right/Right'\n\nconst Base = ({children}) => {\n    return (\n        <div style={{backgroundColor: \"#EAF0F1\"}}>\n          <Header />\n          <div style={{ display: \"flex\", flex: 1}}>\n          <Left/>\n          <div style={{ flex: 2 , minHeight: \"100vh\", borderRadius:\"20px\"}}>{children}</div>\n          <Right/>\n          </div>\n        </div>\n      );\n    }\n\nexport default Base;\n","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Header/Header.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Footer/Footer.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/auth/index.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/backend.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/user/Signin.js",["116"],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/user/helper/helper.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/user/Signup.js",["117"],"import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { signup } from \"./helper/helper\";\nimport \"./helper/styles.css\";\nimport logo from \"../../assets/logo.png\";\n\nconst Signup = () => {\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    success: \"\",\n  });\n\n\n  const { name, email, password,error, success } = values;\n\n  const handleChange = (name) => (event) => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    setValues({ ...values, error: false });\n    signup({ name, email, password })\n      .then((data) => {\n        if (data.error) {\n          setValues({ ...values, error: data.error, success: false });\n        } else {\n          setValues({\n            ...values,\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            success: true,\n          });\n        \n        }\n      })\n      .catch(() => {\n        console.log(\"error in signup\");\n      });\n  };\n\n  const signUpForm = () => {\n    return (\n      <div className=\"login\">\n        <Link to=\"/\">\n          <img className=\"login__logo\" src={logo} />\n        </Link> \n\n        <div className=\"login__container\">\n          <h1>Create Account</h1>\n         \n          <form>\n            <h5>Your name</h5>\n            <input type=\"text\" value={name} onChange={handleChange(\"name\")} />\n            \n            <h5>E-mail</h5>\n            <input type=\"text\" value={email} onChange={handleChange(\"email\")} />\n\n            <h5>Password</h5>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={handleChange(\"password\")}\n            />\n\n            <button\n              type=\"submit\"\n              onClick={onSubmit}\n              className=\"login__signInButton\"\n            >\n              Register\n            </button>\n          </form>\n\n          <p style={{ \"text-align\": \"center\" }}>\n            Already have an account? <Link to=\"/signin\">Sign in</Link>\n          </p>\n        </div>\n      </div>\n    );\n  };\n\n  const errorMessage = () => {\n    return (\n      <div className=\"\">\n        <div className=\"\">\n          <div\n            className=\"message__error\"\n            style={{ display: error ? \"\" : \"none\" }}\n          >\n            {error}\n          </div>\n        </div>\n      </div>\n    );\n  };\n  const successMessage = () => {\n    return (\n      <div className=\"\">\n        <div className=\"\">\n          <div\n            className=\"message__success\"\n            style={{ display: success ? \"\" : \"none\" }}\n          >\n            New account was created successfully. Please{\" \"}\n            <Link to=\"/signin\">Login here</Link>\n          </div>\n        </div>\n      </div>\n    );\n  };\n  return (\n    <div>\n      {successMessage()}\n      {errorMessage()}\n      {signUpForm()}\n      {/* <p className=\"text-light text-center\">{JSON.stringify(values)}</p> */}\n    </div>\n  );\n};\n\nexport default Signup;\n","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/auth/PrivateRoutes.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/user/Profile/Profile.js",["118","119","120","121","122","123","124"],"import React, { useEffect, useState } from 'react'\nimport Base from '../../../shared/Base';\nimport { getUser, isAuthenticated, deleteUser, signout,updateUser } from '../helper/helper'\nimport './Profile.css'\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport { Link, Redirect } from \"react-router-dom\";\nimport { getBooks } from '../../books/helper';\n\nfunction Profile() {\n    const {user}  = isAuthenticated()\n    const [data, setData] = useState({});\n    const [name, setName] = useState(\"\")\n    const [edit, setEdit] = useState(false)\n    const [books, setBooks] = useState([])\n    const [books1, setBooks1] = useState([])\n\n    useEffect(() => {\n        getUser(user._id)\n        .then(res => {\n            if(res.error){\n                console.log(res.error);\n            }\n            else{\n                setData(res);\n                setName(res.name)\n            }\n        })\n        getBooks()\n        .then(res => {\n          for (let i = 0; i < res.length; i++) {\n            if( res[i].lend._id == user._id){\n              console.log(res[i]);\n              let ans = res[i]\n              books.push(ans.name)\n              console.log(books);\n            }\n            \n          }\n          setBooks1(books)\n        })\n        .catch(err => console.log(err))\n        \n    }, [])\n\n    const deleteP = (id) => {\n        if (window.confirm(\"Do you want delete this account\") === true) {\n          deleteUser(id)\n            .then((res) => console.log(res),signout())\n            .catch((err) => console.log(err));\n        }\n      };\n\n      const UpdateUsr = () => {\n        updateUser({name},user._id)\n        .then(res => {\n        console.log(res)\n        setEdit(false)\n        let usr = localStorage.getItem(\"jwt\")\n        usr = JSON.parse(usr)\n        console.log(usr.user)\n        usr.user.name = name\n        localStorage.setItem(\"jwt\", JSON.stringify(usr))\n        })\n        .catch(err => console.log(err))\n      }\n\n    return (\n        <Base>\n        <div className=\"profile\">\n        <div className=\"profile__details\">\n            {edit ? (\n                <div className=\"profile__info\">\n            <h5>Your name</h5>\n            <input type=\"text\" value={name} onChange={e => setName(e.target.value)} />\n            <button\n              type=\"submit\"\n              onClick={UpdateUsr}\n              className=\"login__signInButton\"\n            >\n              Update\n            </button>\n        </div>\n            ) : (\n                <>\n <div className=\"profile__info\">\n            <h2>\n              <span className=\"profile__info__span\">Name: </span> {name}\n            </h2>\n            <h3>\n              <span className=\"profile__info__span\">Email: </span> {user.email}\n            </h3>\n           \n          </div>\n          <a className=\"profile__delete\" >\n                <EditIcon onClick={() => setEdit(true)}/>\n                </a>\n          <a className=\"profile__delete\" href=\"/signin\">\n            <DeleteIcon onClick={() => deleteP(user._id)} />\n            </a>\n            </>\n            )}\n         \n        \n        \n        </div>\n        \n        <div className=\"profile__books\">\n          <h2>Lended books: </h2>\n              {books1 && books1.map((book,i) => (\n                <div className=\"\" key={i}>\n                  <p>{book}</p>\n                  </div>\n              ))}\n        </div>\n\n      </div>\n      </Base>\n    )\n}\n\nexport default Profile\n","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Left/Left.js",["125"],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Right/Right.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/books/AddBook/AddBook.js",["126"],"import React, { useState, useEffect } from \"react\";\nimport ReactCrop from \"react-image-crop\";\nimport \"react-image-crop/dist/ReactCrop.css\";\nimport {isAuthenticated} from '../../auth/index'\nimport {createBook} from '../helper'\nimport Base from '../../../shared/Base'\nimport \"./AddBook.css\";\nimport Success from '../Success'\n\nconst AddBook = () => {\n  const { token, user } = isAuthenticated();\n \n  const [values, setValues] = useState({\n    name: \"\",\n    imageUrl: \"\",\n    author: \"\",\n    publisher: \"\",\n    category:\"\",\n    error: \"\",\n    success: \"\",\n  });\n  const { name, imageUrl, author, publisher, category, error, success } = values;\n\n  const [src, selectedFile] = useState(null);\n\n  const handleFileChange = (e) => {\n    selectedFile(URL.createObjectURL(e.target.files[0]));\n  };\n  const [image, setImage] = useState(null);\n  const [result, setResult] = useState(null);\n\n  const [crop, setCrop] = useState({ aspect: 1 / 1 });\n\n  function getCroppedImg() {\n    const canvas = document.createElement(\"canvas\");\n    const scaleX = image.naturalWidth / image.width;\n    const scaleY = image.naturalHeight / image.height;\n    canvas.width = crop.width;\n    canvas.height = crop.height;\n    const ctx = canvas.getContext(\"2d\");\n\n    ctx.drawImage(\n      image,\n      crop.x * scaleX,\n      crop.y * scaleY,\n      crop.width * scaleX,\n      crop.height * scaleY,\n      0,\n      0,\n      crop.width,\n      crop.height\n    );\n    const base64Image = canvas.toDataURL(\"image/jpeg\");\n    setResult(base64Image);\n    setValues({ ...values, imageUrl: base64Image });\n  }\n\n  const handleChange = (name) => (event) => {\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n    setValues({ ...values, [name]: value });\n  };\n  const onSubmit = (event) => {\n    event.preventDefault();\n    setValues({ ...values, error: \"\" });\n    console.log(\"values\", values);\n    createBook(token, user._id, values).then((data) => {\n      console.log(\"data\", data);\n      if(data === undefined){\n        setValues({...values, error: \"Image size is large!!!! \"})\n      } \n      else if (data.err) {\n        setValues({ ...values, error: data.err });\n      }\n       else {\n        setValues({\n          ...values,\n          name: \"\",\n          imageUrl: \"\",\n          author: \"\",\n          publisher:\"\",\n          category:\"\",\n          error: \"\",\n          success: \"true\",\n        });\n      }\n    });\n  };\n\n  const errorMessage = () => (\n    <div className=\"message__error\" style={{ display: error ? \"\" : \"none\" }}>\n      <h4>{error}</h4>\n    </div>\n  );\n  const createBookPortion = () => {\n    return (\n      <Base>\n        <div className=\"addbook\">\n          {src ? (\n            <div className=\"addbook__image\">\n              {src && (\n                <div className=\"addbook__src\">\n                  <div className=\"addbook__pic\">\n                    <ReactCrop\n                      src={src}\n                      onImageLoaded={setImage}\n                      crop={crop}\n                      onChange={setCrop}\n                      className=\"addbook__photo\"\n                    />\n                  </div>\n                  <div className=\"addbook__crop\">\n                    <button\n                      className=\"addbook__crop__button\"\n                      onClick={getCroppedImg}\n                    >\n                      Crop Image\n                    </button>\n                  </div>\n                </div>\n              )}\n              {result && (\n                <div className=\"addbook__result\">\n                  <h1>Selected image</h1>\n                  <img src={imageUrl} alt=\"\" className=\"addbook__photo\" />\n                  {/* {console.log(imageUrl)} */}\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"\">\n              <div className=\"\">\n                <div className=\"\">\n                  <input\n                    type=\"file\"\n                    accept=\"/image/*\"\n                    onChange={handleFileChange}\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n\n          <div className=\"addbook__title__section\">\n            <h2 className=\"addbook__title\">Name</h2>\n            <input\n              onChange={handleChange(\"name\")}\n              className=\"\"\n            />\n            <h2 className=\"addbook__title\">Author</h2>\n            <input\n              onChange={handleChange(\"author\")}\n              className=\"\"\n            />\n            <h2 className=\"addbook__title\">Publisher</h2>\n            <input\n              onChange={handleChange(\"publisher\")}\n              className=\"\"\n            />\n            <h2 className=\"addbook__title\">Category</h2>\n            <input\n              onChange={handleChange(\"category\")}\n              className=\"\"\n            />\n          </div>\n\n          \n         \n          {name && imageUrl && publisher && category && author && (\n            <div className=\"addbook__submit\">\n              <button className=\"addbook__submit__btn\" onClick={onSubmit}>\n                Publish\n              </button>\n            </div>\n          )}\n        </div>\n      </Base>\n    );\n  };\n\n  if (!success) {\n    return (\n      <div>\n        {errorMessage()}\n        {createBookPortion()}\n      </div>\n    );\n  } else {\n    return <Success />;\n  }\n};\nexport default AddBook;\n","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/auth/AdminRoutes.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/books/helper.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/books/Success.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/books/UpdateBook/UpdateBook.js",["127"],"import React, { useState, useEffect } from \"react\";\nimport ReactCrop from \"react-image-crop\";\nimport \"react-image-crop/dist/ReactCrop.css\";\nimport {isAuthenticated} from '../../auth/index'\nimport { getBook, updateBook} from '../helper'\nimport Base from '../../../shared/Base'\nimport \"./UpdateBook.css\";\nimport Success from '../Success'\n\nconst UpdateBook = ({match}) => {\n\n\n  useEffect(() => {\n    getBook(match.params.bookId)\n    .then(res => {\n      setValues({name: res.name, imageUrl: res.imageUrl, author: res.author, publisher: res.publisher, category: res.category})\n    })\n    .catch(err => console.log(err))\n  }, [])\n\n  const { token, user } = isAuthenticated();\n \n  const [values, setValues] = useState({\n    name: \"\",\n    imageUrl: \"\",\n    author: \"\",\n    publisher: \"\",\n    category:\"\",\n    error: \"\",\n    success: \"\",\n  });\n  const { name, imageUrl, author, publisher, category, error, success } = values;\n\n  const [src, selectedFile] = useState(null);\n\n  const handleFileChange = (e) => {\n    selectedFile(URL.createObjectURL(e.target.files[0]));\n  };\n  const [image, setImage] = useState(null);\n  const [result, setResult] = useState(null);\n\n  const [crop, setCrop] = useState({ aspect: 1 / 1 });\n\n  function getCroppedImg() {\n    const canvas = document.createElement(\"canvas\");\n    const scaleX = image.naturalWidth / image.width;\n    const scaleY = image.naturalHeight / image.height;\n    canvas.width = crop.width;\n    canvas.height = crop.height;\n    const ctx = canvas.getContext(\"2d\");\n\n    ctx.drawImage(\n      image,\n      crop.x * scaleX,\n      crop.y * scaleY,\n      crop.width * scaleX,\n      crop.height * scaleY,\n      0,\n      0,\n      crop.width,\n      crop.height\n    );\n    const base64Image = canvas.toDataURL(\"image/jpeg\");\n    setResult(base64Image);\n    setValues({ ...values, imageUrl: base64Image });\n  }\n\n  const handleChange = (name) => (event) => {\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n    setValues({ ...values, [name]: value });\n  };\n  const onSubmit = (event) => {\n    event.preventDefault();\n    setValues({ ...values, error: \"\" });\n    console.log(\"values\", values);\n    updateBook(token, match.params.bookId,user._id, values).then((data) => {\n      console.log(\"data\", data);\n      if(data === undefined){\n        setValues({...values, error: \"Image size is large!!!! \"})\n      } \n      else if (data.err) {\n        setValues({ ...values, error: data.err });\n      }\n       else {\n        setValues({\n          ...values,\n          name: \"\",\n          imageUrl: \"\",\n          author: \"\",\n          publisher:\"\",\n          category:\"\",\n          error: \"\",\n          success: \"true\",\n        });\n      }\n    });\n  };\n\n  const errorMessage = () => (\n    <div className=\"message__error\" style={{ display: error ? \"\" : \"none\" }}>\n      <h4>{error}</h4>\n    </div>\n  );\n  const createBookPortion = () => {\n    return (\n      <Base>\n        <div className=\"addbook\">\n          {src ? (\n            <div className=\"addbook__image\">\n              {src && (\n                <div className=\"addbook__src\">\n                  <div className=\"addbook__pic\">\n                    <ReactCrop\n                      src={src}\n                      onImageLoaded={setImage}\n                      crop={crop}\n                      onChange={setCrop}\n                      className=\"addbook__photo\"\n                    />\n                  </div>\n                  <div className=\"addbook__crop\">\n                    <button\n                      className=\"addbook__crop__button\"\n                      onClick={getCroppedImg}\n                    >\n                      Crop Image\n                    </button>\n                  </div>\n                </div>\n              )}\n              {result && (\n                <div className=\"addbook__result\">\n                  <h1>Selected image</h1>\n                  <img src={imageUrl} alt=\"\" className=\"addbook__photo\" />\n                  {/* {console.log(imageUrl)} */}\n                </div>\n              )}\n            </div>\n          ) : (\n            <div className=\"\">\n              <div className=\"\">\n                <div className=\"\">\n                  <input\n                    type=\"file\"\n                    accept=\"/image/*\"\n                    onChange={handleFileChange}\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n\n          <div className=\"addbook__title__section\">\n            <h2 className=\"addbook__title\">Name</h2>\n            <input\n              value={name}\n              onChange={handleChange(\"name\")}\n              className=\"\"\n            />\n            <h2 className=\"addbook__title\">Author</h2>\n            <input\n              onChange={handleChange(\"author\")}\n              className=\"\"\n              value={author}\n            />\n            <h2 className=\"addbook__title\">Publisher</h2>\n            <input\n              onChange={handleChange(\"publisher\")}\n              className=\"\"\n              value={publisher}\n            />\n            <h2 className=\"addbook__title\">Category</h2>\n            <input\n              onChange={handleChange(\"category\")}\n              className=\"\"\n              value={category}\n            />\n          </div>\n\n          \n         \n          {name && imageUrl && publisher && category && author && (\n            <div className=\"addbook__submit\">\n              <button className=\"addbook__submit__btn\" onClick={onSubmit}>\n                Update\n              </button>\n            </div>\n          )}\n        </div>\n      </Base>\n    );\n  };\n\n  if (!success) {\n    return (\n      <div>\n        {errorMessage()}\n        {createBookPortion()}\n      </div>\n    );\n  } else {\n    return <Success />;\n  }\n};\nexport default UpdateBook;\n","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/shared/Card.js",["128"],"import React from 'react'\nimport './Card.css'\nimport { deleteBook } from '../components/books/helper'\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { isAuthenticated } from '../components/auth';\n\nfunction Card({_id, name, imageUrl, author, publisher, category}) {\n    \n    const {user, token} = isAuthenticated()\n\n    const deleteP = (id) => {\n        if (window.confirm(\"Do you want delete this book\") === true) {\n          deleteBook(token,id,user._id)\n            .then((res) => console.log(res))\n            .catch((err) => console.log(err));\n        }\n      };\n\n    return (\n        <div className=\"card\">\n            <div className=\"card__image\">\n                <img src={imageUrl} alt=\"\" className=\"card__image__pic\"/>\n            </div>\n            <div className=\"card__details\">\n                <p className=\"card__name\">{name}</p>\n                <p className=\"card__author\">-{author}</p>\n                <span className=\"card__category\">{category}</span>\n                <p className=\"card__publishedBy\">Published By: {publisher}</p>\n            <div className=\"card__buttons\">\n                <a href={`/admin/books/edit/${_id}`} className=\"card__buttons__btn\"><EditIcon/></a>\n                <a className=\"card__buttons__btn\" onClick={() => deleteP(_id)} ><DeleteIcon /></a>\n            </div>\n            </div>\n            \n        </div>\n    )\n}\n\nexport default Card\n","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/books/Books/Books.js",[],"/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/components/user/Users/Users.js",["129"],"import React, { useState, useEffect } from 'react'\nimport './Users.css'\nimport Base from '../../../shared/Base'\nimport { deleteUser, getUsers } from '../helper/helper'\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nfunction Users() {\n\n    const [users, setUsers] = useState([])\n\n    useEffect(() => {\n        getUsers() \n       .then(res => {\n           setUsers(res)\n           console.log(res);\n           console.log(users);\n        })\n       .catch(err => console.log(err))\n       console.log(\"users\",users);\n    }, [users])\n\n    const deleteP = (id) => {\n        if (window.confirm(\"Do you want delete this user\") === true) {\n          deleteUser(id)\n            .then((res) => console.log(res))\n            .catch((err) => console.log(err));\n        }\n      };\n\n\n    return (\n        <Base>\n        <div style={{display:\"flex\", flexWrap:\"wrap\", backgroundColor:\"#fff\", borderRadius:\"20px\", marginTop:\"30px\"}}>\n            {users && users.map((user,i) => {\n                return(\n                      <div className=\"user\" key={i}>  \n                            <div className=\"user__image\">\n                                <img src=\"https://i.pinimg.com/564x/51/f6/fb/51f6fb256629fc755b8870c801092942.jpg\" alt=\"\" className=\"user__image__pic\" />\n                            </div>\n                            <div className=\"user__details\">\n                                <p className=\"user__name\">{user.name}</p>\n                                <p className=\"user__email\">{user.email}</p>\n                            </div>\n                            <div className=\"user__delete\">\n                                <a className=\"user__delete__btn\" onClick={() => deleteP(user._id)} ><DeleteIcon /></a>\n                            </div>\n                      </div>\n                )\n            })}\n           \n    </div>\n           \n        </Base>\n    )\n}\n\nexport default Users;\n","/home/rithesh/Rithu/Project/LibraryManagementSystem/backend/frontend/src/pages/Dashboard/Dashboard.js",[],{"ruleId":"130","replacedBy":"131"},{"ruleId":"132","replacedBy":"133"},{"ruleId":"134","severity":1,"message":"135","line":3,"column":32,"nodeType":"136","messageId":"137","endLine":3,"endColumn":36},{"ruleId":"134","severity":1,"message":"138","line":7,"column":10,"nodeType":"136","messageId":"137","endLine":7,"endColumn":20},{"ruleId":"139","severity":1,"message":"140","line":44,"column":37,"nodeType":"141","messageId":"142","endLine":44,"endColumn":39},{"ruleId":"143","severity":1,"message":"144","line":45,"column":31,"nodeType":"145","messageId":"146","endLine":45,"endColumn":33},{"ruleId":"147","severity":1,"message":"148","line":75,"column":37,"nodeType":"149","endLine":75,"endColumn":73},{"ruleId":"134","severity":1,"message":"150","line":3,"column":8,"nodeType":"136","messageId":"137","endLine":3,"endColumn":14},{"ruleId":"151","severity":1,"message":"152","line":88,"column":11,"nodeType":"149","endLine":91,"endColumn":13},{"ruleId":"151","severity":1,"message":"152","line":51,"column":11,"nodeType":"149","endLine":51,"endColumn":53},{"ruleId":"134","severity":1,"message":"135","line":7,"column":10,"nodeType":"136","messageId":"137","endLine":7,"endColumn":14},{"ruleId":"134","severity":1,"message":"153","line":7,"column":16,"nodeType":"136","messageId":"137","endLine":7,"endColumn":24},{"ruleId":"134","severity":1,"message":"154","line":12,"column":12,"nodeType":"136","messageId":"137","endLine":12,"endColumn":16},{"ruleId":"134","severity":1,"message":"155","line":15,"column":19,"nodeType":"136","messageId":"137","endLine":15,"endColumn":27},{"ruleId":"143","severity":1,"message":"144","line":32,"column":33,"nodeType":"145","messageId":"146","endLine":32,"endColumn":35},{"ruleId":"156","severity":1,"message":"157","line":44,"column":8,"nodeType":"158","endLine":44,"endColumn":10,"suggestions":"159"},{"ruleId":"147","severity":1,"message":"148","line":95,"column":11,"nodeType":"149","endLine":95,"endColumn":43},{"ruleId":"134","severity":1,"message":"160","line":6,"column":8,"nodeType":"136","messageId":"137","endLine":6,"endColumn":25},{"ruleId":"134","severity":1,"message":"161","line":1,"column":27,"nodeType":"136","messageId":"137","endLine":1,"endColumn":36},{"ruleId":"156","severity":1,"message":"162","line":19,"column":6,"nodeType":"158","endLine":19,"endColumn":8,"suggestions":"163"},{"ruleId":"147","severity":1,"message":"148","line":32,"column":17,"nodeType":"149","endLine":32,"endColumn":81},{"ruleId":"147","severity":1,"message":"148","line":45,"column":33,"nodeType":"149","endLine":45,"endColumn":101},"no-native-reassign",["164"],"no-negated-in-lhs",["165"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'updateUser' is defined but never used.","array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'Footer' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","'Redirect' is defined but never used.","'data' is assigned a value but never used.","'setBooks' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'books' and 'user._id'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setBooks1' needs the current value of 'books'.","ArrayExpression",["166"],"'OndemandVideoIcon' is defined but never used.","'useEffect' is defined but never used.","React Hook useEffect has a missing dependency: 'match.params.bookId'. Either include it or remove the dependency array.",["167"],"no-global-assign","no-unsafe-negation",{"desc":"168","fix":"169"},{"desc":"170","fix":"171"},"Update the dependencies array to be: [books, user._id]",{"range":"172","text":"173"},"Update the dependencies array to be: [match.params.bookId]",{"range":"174","text":"175"},[1345,1347],"[books, user._id]",[621,623],"[match.params.bookId]"]